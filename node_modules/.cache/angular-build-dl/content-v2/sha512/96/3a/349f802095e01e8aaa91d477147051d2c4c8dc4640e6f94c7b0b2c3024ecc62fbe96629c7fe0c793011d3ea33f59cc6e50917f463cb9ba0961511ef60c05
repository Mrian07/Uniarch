{"version":3,"sources":["webpack:///src/app/point/point.page.html","webpack:///src/app/point/point-routing.module.ts","webpack:///src/app/point/point.module.ts","webpack:///src/app/point/point.page.scss","webpack:///src/app/point/point.page.ts"],"names":["routes","path","component","PointPageRoutingModule","imports","forChild","exports","PointPageModule","declarations","PointPage","servcart","loadingctrl","navCtrl","consta","router","userdata","segment","data_user","getUsername","then","hsl","console","log","navigateByUrl","getHadiah","getRiwayat","getPoin","create","message","loading1","present","kode_pel","id_pel","data","dismiss","set","setpoin","riwayat","poin","status","param","params","queryParams","kode_reward","navigateForward","kode","loading2","insertPenukaran","ionViewWillEnter","show_alert","title","get_keranjang","hasil","total_keranjang","total_qty","selector","template"],"mappings":"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","file":"point-point-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\" style=\\\"color: #fff;\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title style=\\\"color: #fff;\\\">Poin</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\" style=\\\"--background: var(--ion-color-bg);\\\">\\n  <ion-card style=\\\"background: #fff;border-radius: 15px;\\\">\\n    <ion-row style=\\\"margin:15px\\\">\\n      <ion-col size=\\\"2\\\">\\n        <p>\\n          <ion-icon name=\\\"cash\\\" class=\\\"icon-set\\\" style=\\\"color: var(--ion-color-primary);\\\"></ion-icon>\\n        </p>\\n      </ion-col>\\n      <ion-col size=\\\"10\\\">\\n        <p class=\\\"title\\\" style=\\\"color: #222;\\\">{{poin}}</p>\\n        <p class=\\\"title-small\\\" style=\\\"color: #222;\\\">Total Point anda.</p>\\n      </ion-col>\\n    </ion-row>\\n  </ion-card>\\n\\n  <ion-segment [(ngModel)]=\\\"segment\\\">\\n    <ion-segment-button value=\\\"tukar\\\">\\n      TUKAR POIN\\n    </ion-segment-button>\\n    <ion-segment-button value=\\\"riwayat\\\">\\n      RIWAYAT TUKAR\\n    </ion-segment-button>\\n  </ion-segment>\\n\\n\\n  <div [ngSwitch]=\\\"segment\\\">\\n    <ion-list *ngSwitchCase=\\\"'tukar'\\\" style=\\\"background: var(--ion-color-bg);\\\">\\n      <ion-card *ngFor=\\\"let item of setpoin\\\" style=\\\"background: #fff;\\\">\\n        <ion-row style=\\\"padding:10px\\\">\\n          <!-- <ion-col size=\\\"1\\\">\\n              <p (click)=\\\"get_detail(item.id)\\\">\\n                <ion-icon ios=\\\"ios-more\\\" md=\\\"md-more\\\" class=\\\"icon-set\\\"></ion-icon>\\n              </p>\\n            </ion-col> -->\\n          <ion-col size=\\\"12\\\" (click)=\\\"get_detail(item.id)\\\">\\n            <p class=\\\"title\\\" style=\\\"margin-top: 5px;\\\">{{item.title}}</p>\\n            <ion-row>\\n              <ion-col size=\\\"8\\\">\\n                <h6 class=\\\"title-poin\\\">{{item.jumlah_poin | currency : 'IDR' : ''}}</h6>\\n              </ion-col>\\n\\n            </ion-row>\\n          </ion-col>\\n          <ion-col size=\\\"12\\\" style=\\\"text-align: center;\\\">\\n            <!-- <span class=\\\"status\\\" *ngIf=\\\"item.jumlah>0\\\">Menunggu</span> -->\\n            <ion-button size=\\\"mediuum\\\" *ngIf=\\\"item.jumlah>0\\\" color=\\\"primary\\\" style=\\\"--border-radius:10px;width: 100%;\\\"\\n              disabled>Sedang Proses</ion-button>\\n            <ion-button size=\\\"mediuum\\\" *ngIf=\\\"item.jumlah==0\\\" color=\\\"primary\\\" style=\\\"--border-radius:10px;width: 100%;\\\"\\n              (click)=\\\"goTukar(item.id,item.jumlah_poin)\\\">Tukar</ion-button>\\n          </ion-col>\\n        </ion-row>\\n      </ion-card>\\n    </ion-list>\\n\\n    <ion-list *ngSwitchCase=\\\"'riwayat'\\\" style=\\\"background: #fff;\\\">\\n      <ion-card *ngFor=\\\"let item of riwayat\\\" style=\\\"background: #fff;padding: 10px;\\\">\\n        <ion-row>\\n          <ion-col size=\\\"12\\\">\\n            <p class=\\\"title\\\" (click)=\\\"get_detail(item.id)\\\" style=\\\"margin-left:3px;\\\">Hadiah Anda : {{item.hadiah}}</p>\\n            <ion-row>\\n              <ion-col size=\\\"6\\\">\\n                <span>{{item.poin | currency : 'IDR' : ''}}</span>\\n              </ion-col>\\n              <ion-col size=\\\"6\\\" style=\\\"text-align: right;\\\">\\n                <p class=\\\"status\\\">{{item.waktu_penukaran}}</p>\\n              </ion-col>\\n            </ion-row>\\n          </ion-col>\\n        </ion-row>\\n      </ion-card>\\n    </ion-list>\\n  </div>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PointPage } from './point.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PointPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PointPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PointPageRoutingModule } from './point-routing.module';\n\nimport { PointPage } from './point.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PointPageRoutingModule\n  ],\n  declarations: [PointPage]\n})\nexport class PointPageModule {}\n","export default \".title {\\n  font-size: 18px;\\n  font-weight: bold;\\n  color: #222;\\n  margin-bottom: 0px;\\n}\\n\\n.title-small {\\n  margin-top: 0px;\\n  font-size: 14px;\\n  color: #222;\\n}\\n\\n.title-poin {\\n  margin-top: 7px;\\n  margin-bottom: 6px;\\n  font-weight: 800;\\n  font-size: 16px;\\n  color: var(--ion-color-primary);\\n}\\n\\n.icon-set {\\n  font-size: 30px;\\n  color: #222;\\n  margin: auto;\\n  display: block;\\n}\\n\\n.status {\\n  margin-top: 7px;\\n  font-weight: 500;\\n  color: var(--ion-color-primary);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcG9pbnQvcG9pbnQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZUFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0FBQ0o7O0FBQ0E7RUFDSSxlQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7QUFFSjs7QUFBQTtFQUNJLGVBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLCtCQUFBO0FBR0o7O0FBREE7RUFDSSxlQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxjQUFBO0FBSUo7O0FBRkE7RUFDSSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSwrQkFBQTtBQUtKIiwiZmlsZSI6InNyYy9hcHAvcG9pbnQvcG9pbnQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRpdGxle1xuICAgIGZvbnQtc2l6ZToxOHB4O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGNvbG9yOiMyMjI7XG4gICAgbWFyZ2luLWJvdHRvbTowcHg7XG59XG4udGl0bGUtc21hbGx7XG4gICAgbWFyZ2luLXRvcDowcHg7XG4gICAgZm9udC1zaXplOjE0cHg7XG4gICAgY29sb3I6IzIyMjtcbn1cbi50aXRsZS1wb2lue1xuICAgIG1hcmdpbi10b3A6N3B4O1xuICAgIG1hcmdpbi1ib3R0b206NnB4O1xuICAgIGZvbnQtd2VpZ2h0OjgwMDtcbiAgICBmb250LXNpemU6MTZweDtcbiAgICBjb2xvcjp2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG59XG4uaWNvbi1zZXR7XG4gICAgZm9udC1zaXplOjMwcHg7XG4gICAgY29sb3I6IzIyMjtcbiAgICBtYXJnaW46YXV0bztcbiAgICBkaXNwbGF5OiBibG9jaztcbn1cbi5zdGF0dXN7XG4gICAgbWFyZ2luLXRvcDo3cHg7XG4gICAgZm9udC13ZWlnaHQ6NTAwO1xuICAgIGNvbG9yOnZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { DataCartService } from '../services/data-cart.service';\nimport { AlertController, NavController, LoadingController } from '@ionic/angular';\nimport { Router, NavigationExtras, ActivatedRoute } from '@angular/router';\nimport { ConstantService } from '../providers/constant.service';\nimport { UserData } from '../providers/user-data';\n\n@Component({\n  selector: 'app-point',\n  templateUrl: './point.page.html',\n  styleUrls: ['./point.page.scss'],\n})\nexport class PointPage implements OnInit {\n\n  total_keranjang: any;\n  segment = 'tukar';\n  constructor(\n    public servcart: DataCartService,\n    public loadingctrl: LoadingController,\n    public navCtrl: NavController,\n    private consta: ConstantService,\n    public router: Router,\n    private userdata: UserData\n  ) {\n  }\n  ngOnInit() {\n  }\n  data_user: any = {};\n  ionViewWillEnter() {\n    this.userdata.getUsername().then(hsl => {\n      console.log(hsl, 'hasil');\n      if (hsl == null) {\n        this.router.navigateByUrl('login');\n      } else {\n        this.data_user = hsl;\n        this.getHadiah();\n        this.getRiwayat();\n        this.getPoin();\n      }\n    })\n  }\n\n  loading1: any;\n  setpoin: any;\n  async getHadiah() {\n    this.loading1 = await this.loadingctrl.create({\n      message: 'Mohon Tunggu'\n    });\n    this.loading1.present();\n    let kode_pel = this.data_user.id_pel;\n    this.servcart.getHadiah(kode_pel).then(data => {\n      this.loading1.dismiss();\n      let set: any = {};\n      set = data;\n      console.log(set.data);\n      this.setpoin = set.data;\n    });\n  }\n\n  riwayat: any;\n\n  async getRiwayat() {\n    let kode_pel = this.data_user.id_pel;\n    this.servcart.getRiwayat(kode_pel).then(data => {\n      let set: any = {};\n      set = data;\n      console.log(set.data);\n      this.riwayat = set.data;\n    });\n  }\n\n  poin: any;\n  async getPoin() {\n    let kode_pel = this.data_user.id_pel;\n    this.servcart.getPoin(kode_pel).then(data => {\n      let set: any = {};\n      set = data;\n      console.log(set.poin);\n      if (set.status === 0) {\n        this.poin = 0;\n      } else {\n        this.poin = set.poin;\n      }\n    });\n  }\n  async get_detail(param) {\n    let params: NavigationExtras = {\n      queryParams: {\n        kode_reward: param\n      }\n    };\n    this.navCtrl.navigateForward('poindetail', params);\n  }\n\n  loading2: any;\n\n  async goTukar(kode, poin) {\n\n    this.loading2 = await this.loadingctrl.create({\n      message: 'Proses Penukaran...'\n    });\n    this.loading2.present();\n    /*if(this.poin<Math.abs(poin)){\n      this.consta.show_alert('Notif', '','Poin belum mencukupi.');\n      this.loading2.dismiss();\n    }else{*/\n    this.servcart.insertPenukaran(kode, this.data_user.id_pel).then(data => {\n      let set: any = {};\n      set = data;\n      this.loading2.dismiss();\n      this.ionViewWillEnter();\n      this.consta.show_alert('Notif', '', set.title);\n    })\n    //}\n  }\n\n  get_total_keranjang() {\n    this.servcart.get_keranjang(60).then(hasil => {\n      console.log(hasil, 'keranjang')\n      let hsl: any = {};\n      hsl = hasil;\n      this.total_keranjang = hsl.total_qty;\n    })\n  }\n  goto_checkout() {\n    this.router.navigateByUrl('checkout');\n  }\n\n}\n"]}