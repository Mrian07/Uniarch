(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{TUkU:function(t,n,o){"use strict";o.r(n),o.d(n,"Tab2PageModule",(function(){return w}));var e=o("TEn/"),r=o("ofXK"),i=o("3Pt+"),a=o("qtYk"),c=o("tyNb"),s=o("PACC"),b=o("lJxs"),g=o("fXoL"),p=o("tk/3"),d=o("UyVC"),l=o("X+KH");function u(t,n){1&t&&(g.Kb(0,"h6",19),g.nc(1,"Pesanan Baru"),g.Jb())}function h(t,n){1&t&&(g.Kb(0,"h6",19),g.nc(1,"Menunggu Transfer"),g.Jb())}function _(t,n){1&t&&(g.Kb(0,"h6",19),g.nc(1,"Dalam Proses"),g.Jb())}function f(t,n){1&t&&(g.Kb(0,"h6",19),g.nc(1,"Dalam Pengiriman"),g.Jb())}function x(t,n){1&t&&(g.Kb(0,"h6",19),g.nc(1,"Paket di terima"),g.Jb())}function m(t,n){if(1&t){const t=g.Lb();g.Kb(0,"ion-button",24),g.Sb("click",(function(){g.ic(t);const n=g.Vb().$implicit;return g.Vb().konfirmasi(n.id_order)})),g.nc(1,"Konfirmasi "),g.Jb()}}function C(t,n){if(1&t){const t=g.Lb();g.Kb(0,"div",13),g.Kb(1,"ion-row",14),g.Kb(2,"ion-col",15),g.Sb("click",(function(){g.ic(t);const o=n.$implicit;return g.Vb().goto_detail(o.id_order)})),g.Ib(3,"img",16),g.Jb(),g.Kb(4,"ion-col",17),g.Sb("click",(function(){g.ic(t);const o=n.$implicit;return g.Vb().goto_detail(o.id_order)})),g.Kb(5,"p",18),g.nc(6),g.Jb(),g.Kb(7,"h6",19),g.nc(8),g.Wb(9,"currency"),g.Jb(),g.mc(10,u,2,0,"h6",20),g.mc(11,h,2,0,"h6",20),g.mc(12,_,2,0,"h6",20),g.mc(13,f,2,0,"h6",20),g.mc(14,x,2,0,"h6",20),g.Kb(15,"h6",21),g.nc(16),g.Jb(),g.Jb(),g.Kb(17,"ion-col",22),g.Ib(18,"hr",19),g.mc(19,m,2,0,"ion-button",23),g.Jb(),g.Jb(),g.Jb()}if(2&t){const t=n.$implicit;g.xb(6),g.pc("#",t.id_order,""),g.xb(2),g.oc(g.Yb(9,9,t.grand_total,"IDR","Rp. ")),g.xb(2),g.bc("ngIf",0==t.status_order),g.xb(1),g.bc("ngIf",1==t.status_order),g.xb(1),g.bc("ngIf",2==t.status_order),g.xb(1),g.bc("ngIf",3==t.status_order),g.xb(1),g.bc("ngIf",4==t.status_order),g.xb(2),g.pc(" ",0==t.status_pembayaran?"Belum Lunas":"Lunas"," "),g.xb(3),g.bc("ngIf",0==t.status_pembayaran)}}function k(t,n){if(1&t&&(g.Kb(0,"ion-badge",25),g.nc(1),g.Jb()),2&t){const t=g.Vb();g.xb(1),g.oc(t.total_keranjang)}}function y(t,n){1&t&&(g.Kb(0,"ion-badge",25),g.nc(1,"0"),g.Jb())}const M=[{path:"",component:(()=>{class t{constructor(t,n,o,e,r,i,a,c){this.http=t,this.modalCtrl=n,this.router=o,this.navCtrl=e,this.servcart=r,this.loadingctrl=i,this.alertctrl=a,this.userdata=c,this.list_product=[],this.arr={},this.queryText="",this.data_user={},this.hide_header="shown",this.status_pembayaran="",this.status_order=""}ngOnInit(){}ionViewWillEnter(){const t=localStorage.getItem("userid");console.log("userid",t),console.log("riwayat order will enter"),this.userdata.getUsername().then(t=>{console.log(t,"hasil"),null==t?this.router.navigateByUrl("login"):(this.data_user=t,this.get_total_keranjang(),this.get_product("refresh",""))})}pilih_pembayaran(t){this.status_pembayaran=t.target.value,console.log(this.status_pembayaran,"status_pembayaran"),this.get_product("refresh",null)}pilih_status(t){this.status_order=t.target.value,console.log(this.status_order,"status_pembayaran"),this.get_product("refresh",null)}get_total_keranjang(){this.servcart.get_keranjang(this.data_user.id_pel).then(t=>{console.log(t,"keranjang");let n={};n=t,this.total_keranjang=n.total_qty})}goto_detail(t){this.router.navigateByUrl("/detailtransaksi/"+t)}konfirmasi(t){this.router.navigateByUrl("/konfirmasi/"+t)}goto_checkout(){this.router.navigateByUrl("checkout")}doRefresh(t){this.get_product("refresh",t)}loadData(t){console.log("load more? ",this.list_product),0!=this.list_product.length?this.get_product("loadmore",t):t.target.complete()}search_product(t){console.log(this.queryText.length),this.get_product("refresh","")}get_product(t,n){console.log("get riwayat order.......",t,n),console.log("ID_PEL",this.data_user.id_pel),"refresh"==t&&(this.list_product=[]),this.http.post(s.b+"api_get_riwayat_order",{offset:this.list_product.length,type:t,cari:this.queryText,selected_category:this.selected_category,selected_sub_category:this.selected_sub_category,min_price:this.min_price,max_price:this.max_price,order:this.order,id_pel:this.data_user.id_pel,status_pembayaran:this.status_pembayaran,status_order:this.status_order}).pipe(Object(b.a)(t=>(console.log(t,"map"),t.data))).subscribe(o=>{this.arr=o,"refresh"==t?(this.list_product=this.arr,n&&n.target.complete()):(this.arr.forEach(t=>{this.list_product.push(t)}),n&&n.target.complete()),console.log(this.list_product,"PRODUCT")})}}return t.\u0275fac=function(n){return new(n||t)(g.Hb(p.a),g.Hb(e.eb),g.Hb(c.f),g.Hb(e.fb),g.Hb(d.a),g.Hb(e.cb),g.Hb(e.b),g.Hb(l.a))},t.\u0275cmp=g.Bb({type:t,selectors:[["app-tab2"]],decls:20,vars:5,consts:[["slot","start",2,"color","#fff"],[2,"color","#fff"],["placeholder","Cari Order Id",2,"border-radius","20px",3,"ngModel","ngModelChange","search"],[2,"--background","var(--ion-color-bg)",3,"fullscreen"],["slot","fixed","disabled","false","pullFactor","0.5","pullMin","100","pullMax","200",3,"ionRefresh"],["pullingIcon","arrow-dropdown","pullingText","Tarik untuk Refresh","refreshingSpinner","circles","refreshingText","Memuat Data..."],[2,"background","var(--ion-color-bg)","padding-top","0px"],["style","padding: 0px 10px;--background: var(--ion-color-bg);",4,"ngFor","ngForOf"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading more data..."],["vertical","bottom","horizontal","center","slot","fixed","edge","",2,"bottom","9px","z-index","999"],["class","badge_icon","color","danger",4,"ngIf"],["src","assets/imgs/bag.png"],[2,"padding","0px 10px","--background","var(--ion-color-bg)"],[2,"padding-right","0px","margin-top","10px","background","#fff","box-shadow","0 2px 13px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12)","border-radius","15px"],["size","3",2,"margin","0px","text-align","center",3,"click"],["src","assets/imgs/bag.png","alt","Foto",2,"border-radius","50px","width","75px","height","75px","object-fit","cover"],["size","9",2,"padding-top","10px",3,"click"],[2,"font-weight","500","color","#5a5a5a","margin","0px"],[2,"margin","0px"],["style","margin: 0px;",4,"ngIf"],[2,"margin-top","3px","padding","3px 10px","border-radius","20px","font-size","14px","text-transform","capitalize","display","inline-block","background","#e13838","color","#fff"],["size","12",2,"text-align","center"],["size","small","style","color: #fff;height: 32px;--background: var(--ion-color-primary);width: 90%;--border-radius: 10px;margin-top: 10px;",3,"click",4,"ngIf"],["size","small",2,"color","#fff","height","32px","--background","var(--ion-color-primary)","width","90%","--border-radius","10px","margin-top","10px",3,"click"],["color","danger",1,"badge_icon"]],template:function(t,n){1&t&&(g.Kb(0,"ion-header"),g.Kb(1,"ion-toolbar"),g.Kb(2,"ion-buttons",0),g.Ib(3,"ion-menu-button"),g.Jb(),g.Kb(4,"ion-title",1),g.nc(5,"Transaksi"),g.Jb(),g.Jb(),g.Kb(6,"ion-toolbar"),g.Kb(7,"ion-searchbar",2),g.Sb("ngModelChange",(function(t){return n.queryText=t}))("search",(function(t){return n.search_product(t)})),g.Jb(),g.Jb(),g.Jb(),g.Kb(8,"ion-content",3),g.Kb(9,"ion-refresher",4),g.Sb("ionRefresh",(function(t){return n.doRefresh(t)})),g.Ib(10,"ion-refresher-content",5),g.Jb(),g.Kb(11,"ion-list",6),g.mc(12,C,20,13,"div",7),g.Jb(),g.Kb(13,"ion-infinite-scroll",8),g.Sb("ionInfinite",(function(t){return n.loadData(t)})),g.Ib(14,"ion-infinite-scroll-content",9),g.Jb(),g.Kb(15,"ion-fab",10),g.mc(16,k,2,1,"ion-badge",11),g.mc(17,y,2,0,"ion-badge",11),g.Kb(18,"ion-fab-button"),g.Ib(19,"img",12),g.Jb(),g.Jb(),g.Jb()),2&t&&(g.xb(7),g.bc("ngModel",n.queryText),g.xb(1),g.bc("fullscreen",!0),g.xb(4),g.bc("ngForOf",n.list_product),g.xb(4),g.bc("ngIf",n.total_keranjang>0),g.xb(1),g.bc("ngIf",0==n.total_keranjang))},directives:[e.u,e.ab,e.i,e.E,e.Z,e.K,e.kb,i.e,i.h,e.p,e.G,e.H,e.B,r.k,e.w,e.x,e.r,r.l,e.s,e.J,e.o,e.h,e.g],pipes:[r.c],styles:['product[_ngcontent-%COMP%]{font-size:14px}#avatar_product[_ngcontent-%COMP%]{width:80px;height:80px;margin-right:20px}#icon_cart[_ngcontent-%COMP%]{color:#e29a9c}.toolbar-background[_ngcontent-%COMP%], ion-toolbar[_ngcontent-%COMP%]{background:var(--ion-color-primary)!important;--background:var(--ion-color-primary)!important}ion-toolbar[_ngcontent-%COMP%]   .notification-icon-button[_ngcontent-%COMP%]   .btn_badge[_ngcontent-%COMP%]{--overflow:visible}ion-toolbar[_ngcontent-%COMP%]   .notification-icon-button[_ngcontent-%COMP%]   .btn_badge[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{position:absolute;background:#f70b0b;border-radius:50%;opacity:.9;top:-4px;right:-3px;width:20px;height:20px;font-size:10px}.font_12[_ngcontent-%COMP%]{font-size:12px}.padding_0[_ngcontent-%COMP%]{padding:0}.harga_potongan[_ngcontent-%COMP%]{color:red;text-decoration:line-through;font-weight:700}.product_disc[_ngcontent-%COMP%]{background:red;color:#fff;font-weight:700;padding:2px}#nama_product[_ngcontent-%COMP%]{width:100%;margin-top:10px;font-weight:700;font-size:15px;white-space:normal;color:#7e7e7e}.content_product[_ngcontent-%COMP%]{width:100%;padding-top:5px}.product_price[_ngcontent-%COMP%]{font-weight:700;color:#ccaa52;font-size:14px;margin-right:10px}.div_img[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px}.product_name[_ngcontent-%COMP%]{white-space:normal;width:100%;margin-bottom:5px;font-size:12px}.product-image[_ngcontent-%COMP%]{width:100%}.col_product[_ngcontent-%COMP%]{border:1px solid #d4cece;border-radius:5px;margin-bottom:10px;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.small-content[_ngcontent-%COMP%]{width:95%}.results-div[_ngcontent-%COMP%]{border-bottom:5%}.card-title[_ngcontent-%COMP%], .results-div[_ngcontent-%COMP%]   .results[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:12px;height:20px}.product-description[_ngcontent-%COMP%]{text-align:center;font-size:15px;margin:2px 0 0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.product-description[_ngcontent-%COMP%]   .actual-price[_ngcontent-%COMP%]{font-weight:500}.product-description[_ngcontent-%COMP%]   .previous-price[_ngcontent-%COMP%]{text-decoration:line-through}.product-description[_ngcontent-%COMP%]   .previous-price[_ngcontent-%COMP%]:before{content:"";width:0;height:100%;border-right:2px solid;margin:0 6px 0 3px}.searchbar-input.sc-ion-searchbar-md[_ngcontent-%COMP%]{--border-radius:20px!important}ion-badge[_ngcontent-%COMP%]{position:absolute;background:#f70b0b;border-radius:50%;opacity:.9;top:-9px;right:17px;width:20px;height:20px;font-size:10px;z-index:9}']}),t})()}];let P=(()=>{class t{}return t.\u0275mod=g.Fb({type:t}),t.\u0275inj=g.Eb({factory:function(n){return new(n||t)},imports:[[c.h.forChild(M)],c.h]}),t})(),w=(()=>{class t{}return t.\u0275mod=g.Fb({type:t}),t.\u0275inj=g.Eb({factory:function(n){return new(n||t)},imports:[[e.bb,r.b,i.b,a.a,P]]}),t})()}}]);