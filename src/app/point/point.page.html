<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start" style="color: #fff;">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title style="color: #fff;">Poin</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" style="--background: var(--ion-color-bg);">
  <ion-card style="background: #fff;border-radius: 15px;">
    <ion-row style="margin:15px">
      <ion-col size="2">
        <p>
          <ion-icon name="cash" class="icon-set" style="color: var(--ion-color-primary);"></ion-icon>
        </p>
      </ion-col>
      <ion-col size="10">
        <p class="title" style="color: #222;">{{poin}}</p>
        <p class="title-small" style="color: #222;">Total Point anda.</p>
      </ion-col>
    </ion-row>
  </ion-card>

  <ion-segment [(ngModel)]="segment">
    <ion-segment-button value="tukar">
      TUKAR POIN
    </ion-segment-button>
    <ion-segment-button value="riwayat">
      RIWAYAT TUKAR
    </ion-segment-button>
  </ion-segment>


  <div [ngSwitch]="segment">
    <ion-list *ngSwitchCase="'tukar'" style="background: var(--ion-color-bg);">
      <ion-card *ngFor="let item of setpoin" style="background: #fff;">
        <ion-row style="padding:10px">
          <ion-col size="12" (click)="get_detail(item.id)">
            <p class="title" style="margin-top: 5px;">{{item.title}}</p>
            <ion-row>
              <ion-col size="8">
                <h6 class="title-poin">{{item.jumlah_poin | currency : 'IDR' : ''}}</h6>
              </ion-col>

            </ion-row>
          </ion-col>
          <ion-col size="12" style="text-align: center;">
            <ion-button size="mediuum" *ngIf="item.jumlah>0" color="primary" style="--border-radius:10px;width: 100%;"
              disabled>Sedang Proses</ion-button>
            <ion-button size="mediuum" *ngIf="item.jumlah==0" color="primary" style="--border-radius:10px;width: 100%;"
              (click)="goTukar(item.id,item.jumlah_poin)">Tukar</ion-button>
          </ion-col>
        </ion-row>
      </ion-card>
    </ion-list>

    <ion-list *ngSwitchCase="'riwayat'" style="background: var(--ion-color-bg);">
      <ion-card *ngFor="let item of riwayat" style="background: #fff;padding: 10px;">
        <ion-row>
          <ion-col size="12">
            <p class="title" (click)="get_detail(item.id)" style="margin-left:3px;">Hadiah Anda : {{item.hadiah}}</p>
            <ion-row>
              <ion-col size="6">
                <span>{{item.poin | currency : 'IDR' : ''}}</span>
              </ion-col>
              <ion-col size="6" style="text-align: right;">
                <p class="status">{{item.waktu_penukaran}}</p>
              </ion-col>
            </ion-row>
          </ion-col>
        </ion-row>
      </ion-card>
    </ion-list>
  </div>
</ion-content>