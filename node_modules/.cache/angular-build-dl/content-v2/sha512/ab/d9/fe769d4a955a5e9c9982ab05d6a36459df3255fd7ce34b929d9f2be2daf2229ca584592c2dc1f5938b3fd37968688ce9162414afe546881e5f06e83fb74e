!function(){function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var o=0;o<n.length;o++){var e=n[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{TUkU:function(o,e,r){"use strict";r.r(e),r.d(e,"Tab2PageModule",(function(){return I}));var i=r("TEn/"),a=r("ofXK"),c=r("3Pt+"),s=r("qtYk"),l=r("tyNb"),b=r("PACC"),g=r("lJxs"),p=r("fXoL"),d=r("tk/3"),u=r("UyVC"),h=r("X+KH");function f(t,n){1&t&&(p.Kb(0,"h6",19),p.nc(1,"Pesanan Baru"),p.Jb())}function _(t,n){1&t&&(p.Kb(0,"h6",19),p.nc(1,"Menunggu Transfer"),p.Jb())}function x(t,n){1&t&&(p.Kb(0,"h6",19),p.nc(1,"Dalam Proses"),p.Jb())}function m(t,n){1&t&&(p.Kb(0,"h6",19),p.nc(1,"Dalam Pengiriman"),p.Jb())}function y(t,n){1&t&&(p.Kb(0,"h6",19),p.nc(1,"Paket di terima"),p.Jb())}function v(t,n){if(1&t){var o=p.Lb();p.Kb(0,"ion-button",24),p.Sb("click",(function(){p.ic(o);var t=p.Vb().$implicit;return p.Vb().konfirmasi(t.id_order)})),p.nc(1,"Konfirmasi "),p.Jb()}}function k(t,n){if(1&t){var o=p.Lb();p.Kb(0,"div",13),p.Kb(1,"ion-row",14),p.Kb(2,"ion-col",15),p.Sb("click",(function(){p.ic(o);var t=n.$implicit;return p.Vb().goto_detail(t.id_order)})),p.Ib(3,"img",16),p.Jb(),p.Kb(4,"ion-col",17),p.Sb("click",(function(){p.ic(o);var t=n.$implicit;return p.Vb().goto_detail(t.id_order)})),p.Kb(5,"p",18),p.nc(6),p.Jb(),p.Kb(7,"h6",19),p.nc(8),p.Wb(9,"currency"),p.Jb(),p.mc(10,f,2,0,"h6",20),p.mc(11,_,2,0,"h6",20),p.mc(12,x,2,0,"h6",20),p.mc(13,m,2,0,"h6",20),p.mc(14,y,2,0,"h6",20),p.Kb(15,"h6",21),p.nc(16),p.Jb(),p.Jb(),p.Kb(17,"ion-col",22),p.Ib(18,"hr",19),p.mc(19,v,2,0,"ion-button",23),p.Jb(),p.Jb(),p.Jb()}if(2&t){var e=n.$implicit;p.xb(6),p.pc("#",e.id_order,""),p.xb(2),p.oc(p.Yb(9,9,e.grand_total,"IDR","Rp. ")),p.xb(2),p.bc("ngIf",0==e.status_order),p.xb(1),p.bc("ngIf",1==e.status_order),p.xb(1),p.bc("ngIf",2==e.status_order),p.xb(1),p.bc("ngIf",3==e.status_order),p.xb(1),p.bc("ngIf",4==e.status_order),p.xb(2),p.pc(" ",0==e.status_pembayaran?"Belum Lunas":"Lunas"," "),p.xb(3),p.bc("ngIf",0==e.status_pembayaran)}}function w(t,n){if(1&t&&(p.Kb(0,"ion-badge",25),p.nc(1),p.Jb()),2&t){var o=p.Vb();p.xb(1),p.oc(o.total_keranjang)}}function C(t,n){1&t&&(p.Kb(0,"ion-badge",25),p.nc(1,"0"),p.Jb())}var P,M,O,J=[{path:"",component:(P=function(){function o(n,e,r,i,a,c,s,l){t(this,o),this.http=n,this.modalCtrl=e,this.router=r,this.navCtrl=i,this.servcart=a,this.loadingctrl=c,this.alertctrl=s,this.userdata=l,this.list_product=[],this.arr={},this.queryText="",this.data_user={},this.hide_header="shown",this.status_pembayaran="",this.status_order=""}var e,r,i;return e=o,(r=[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){var t=this,n=localStorage.getItem("userid");console.log("userid",n),console.log("riwayat order will enter"),this.userdata.getUsername().then((function(n){console.log(n,"hasil"),null==n?t.router.navigateByUrl("login"):(t.data_user=n,t.get_total_keranjang(),t.get_product("refresh",""))}))}},{key:"pilih_pembayaran",value:function(t){this.status_pembayaran=t.target.value,console.log(this.status_pembayaran,"status_pembayaran"),this.get_product("refresh",null)}},{key:"pilih_status",value:function(t){this.status_order=t.target.value,console.log(this.status_order,"status_pembayaran"),this.get_product("refresh",null)}},{key:"get_total_keranjang",value:function(){var t=this;this.servcart.get_keranjang(this.data_user.id_pel).then((function(n){var o;console.log(n,"keranjang"),o=n,t.total_keranjang=o.total_qty}))}},{key:"goto_detail",value:function(t){this.router.navigateByUrl("/detailtransaksi/"+t)}},{key:"konfirmasi",value:function(t){this.router.navigateByUrl("/konfirmasi/"+t)}},{key:"goto_checkout",value:function(){this.router.navigateByUrl("checkout")}},{key:"doRefresh",value:function(t){this.get_product("refresh",t)}},{key:"loadData",value:function(t){console.log("load more? ",this.list_product),0!=this.list_product.length?this.get_product("loadmore",t):t.target.complete()}},{key:"search_product",value:function(t){console.log(this.queryText.length),this.get_product("refresh","")}},{key:"get_product",value:function(t,n){var o=this;console.log("get riwayat order.......",t,n),console.log("ID_PEL",this.data_user.id_pel),"refresh"==t&&(this.list_product=[]),this.http.post(b.b+"api_get_riwayat_order",{offset:this.list_product.length,type:t,cari:this.queryText,selected_category:this.selected_category,selected_sub_category:this.selected_sub_category,min_price:this.min_price,max_price:this.max_price,order:this.order,id_pel:this.data_user.id_pel,status_pembayaran:this.status_pembayaran,status_order:this.status_order}).pipe(Object(g.a)((function(t){return console.log(t,"map"),t.data}))).subscribe((function(e){o.arr=e,"refresh"==t?(o.list_product=o.arr,n&&n.target.complete()):(o.arr.forEach((function(t){o.list_product.push(t)})),n&&n.target.complete()),console.log(o.list_product,"PRODUCT")}))}}])&&n(e.prototype,r),i&&n(e,i),o}(),P.\u0275fac=function(t){return new(t||P)(p.Hb(d.a),p.Hb(i.fb),p.Hb(l.g),p.Hb(i.gb),p.Hb(u.a),p.Hb(i.db),p.Hb(i.b),p.Hb(h.a))},P.\u0275cmp=p.Bb({type:P,selectors:[["app-tab2"]],decls:20,vars:5,consts:[["slot","start",2,"color","#fff"],[2,"color","#fff"],["placeholder","Cari Order Id",2,"border-radius","20px",3,"ngModel","ngModelChange","search"],[2,"--background","var(--ion-color-bg)",3,"fullscreen"],["slot","fixed","disabled","false","pullFactor","0.5","pullMin","100","pullMax","200",3,"ionRefresh"],["pullingIcon","arrow-dropdown","pullingText","Tarik untuk Refresh","refreshingSpinner","circles","refreshingText","Memuat Data..."],[2,"background","var(--ion-color-bg)","padding-top","0px"],["style","padding: 0px 10px;--background: var(--ion-color-bg);",4,"ngFor","ngForOf"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading more data..."],["vertical","bottom","horizontal","center","slot","fixed","edge","",2,"bottom","9px","z-index","999"],["class","badge_icon","color","danger",4,"ngIf"],["src","assets/imgs/bag.png"],[2,"padding","0px 10px","--background","var(--ion-color-bg)"],[2,"padding-right","0px","margin-top","10px","background","#fff","box-shadow","0 2px 13px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12)","border-radius","15px"],["size","3",2,"margin","0px","text-align","center",3,"click"],["src","assets/imgs/bag.png","alt","Foto",2,"border-radius","50px","width","75px","height","75px","object-fit","cover"],["size","9",2,"padding-top","10px",3,"click"],[2,"font-weight","500","color","#5a5a5a","margin","0px"],[2,"margin","0px"],["style","margin: 0px;",4,"ngIf"],[2,"margin-top","3px","padding","3px 10px","border-radius","20px","font-size","14px","text-transform","capitalize","display","inline-block","background","#e13838","color","#fff"],["size","12",2,"text-align","center"],["size","small","style","color: #fff;height: 32px;--background: var(--ion-color-primary);width: 90%;--border-radius: 10px;margin-top: 10px;",3,"click",4,"ngIf"],["size","small",2,"color","#fff","height","32px","--background","var(--ion-color-primary)","width","90%","--border-radius","10px","margin-top","10px",3,"click"],["color","danger",1,"badge_icon"]],template:function(t,n){1&t&&(p.Kb(0,"ion-header"),p.Kb(1,"ion-toolbar"),p.Kb(2,"ion-buttons",0),p.Ib(3,"ion-menu-button"),p.Jb(),p.Kb(4,"ion-title",1),p.nc(5,"Transaksi"),p.Jb(),p.Jb(),p.Kb(6,"ion-toolbar"),p.Kb(7,"ion-searchbar",2),p.Sb("ngModelChange",(function(t){return n.queryText=t}))("search",(function(t){return n.search_product(t)})),p.Jb(),p.Jb(),p.Jb(),p.Kb(8,"ion-content",3),p.Kb(9,"ion-refresher",4),p.Sb("ionRefresh",(function(t){return n.doRefresh(t)})),p.Ib(10,"ion-refresher-content",5),p.Jb(),p.Kb(11,"ion-list",6),p.mc(12,k,20,13,"div",7),p.Jb(),p.Kb(13,"ion-infinite-scroll",8),p.Sb("ionInfinite",(function(t){return n.loadData(t)})),p.Ib(14,"ion-infinite-scroll-content",9),p.Jb(),p.Kb(15,"ion-fab",10),p.mc(16,w,2,1,"ion-badge",11),p.mc(17,C,2,0,"ion-badge",11),p.Kb(18,"ion-fab-button"),p.Ib(19,"img",12),p.Jb(),p.Jb(),p.Jb()),2&t&&(p.xb(7),p.bc("ngModel",n.queryText),p.xb(1),p.bc("fullscreen",!0),p.xb(4),p.bc("ngForOf",n.list_product),p.xb(4),p.bc("ngIf",n.total_keranjang>0),p.xb(1),p.bc("ngIf",0==n.total_keranjang))},directives:[i.u,i.ab,i.i,i.E,i.Z,i.K,i.lb,c.e,c.h,i.p,i.G,i.H,i.B,a.k,i.w,i.x,i.r,a.l,i.s,i.J,i.o,i.h,i.g],pipes:[a.c],styles:['product[_ngcontent-%COMP%]{font-size:14px}#avatar_product[_ngcontent-%COMP%]{width:80px;height:80px;margin-right:20px}#icon_cart[_ngcontent-%COMP%]{color:#e29a9c}.toolbar-background[_ngcontent-%COMP%], ion-toolbar[_ngcontent-%COMP%]{background:var(--ion-color-primary)!important;--background:var(--ion-color-primary)!important}ion-toolbar[_ngcontent-%COMP%]   .notification-icon-button[_ngcontent-%COMP%]   .btn_badge[_ngcontent-%COMP%]{--overflow:visible}ion-toolbar[_ngcontent-%COMP%]   .notification-icon-button[_ngcontent-%COMP%]   .btn_badge[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{position:absolute;background:#f70b0b;border-radius:50%;opacity:.9;top:-4px;right:-3px;width:20px;height:20px;font-size:10px}.font_12[_ngcontent-%COMP%]{font-size:12px}.padding_0[_ngcontent-%COMP%]{padding:0}.harga_potongan[_ngcontent-%COMP%]{color:red;text-decoration:line-through;font-weight:700}.product_disc[_ngcontent-%COMP%]{background:red;color:#fff;font-weight:700;padding:2px}#nama_product[_ngcontent-%COMP%]{width:100%;margin-top:10px;font-weight:700;font-size:15px;white-space:normal;color:#7e7e7e}.content_product[_ngcontent-%COMP%]{width:100%;padding-top:5px}.product_price[_ngcontent-%COMP%]{font-weight:700;color:#ccaa52;font-size:14px;margin-right:10px}.div_img[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px}.product_name[_ngcontent-%COMP%]{white-space:normal;width:100%;margin-bottom:5px;font-size:12px}.product-image[_ngcontent-%COMP%]{width:100%}.col_product[_ngcontent-%COMP%]{border:1px solid #d4cece;border-radius:5px;margin-bottom:10px;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.small-content[_ngcontent-%COMP%]{width:95%}.results-div[_ngcontent-%COMP%]{border-bottom:5%}.card-title[_ngcontent-%COMP%], .results-div[_ngcontent-%COMP%]   .results[_ngcontent-%COMP%]{text-align:center}.card-title[_ngcontent-%COMP%]{font-size:12px;height:20px}.product-description[_ngcontent-%COMP%]{text-align:center;font-size:15px;margin:2px 0 0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.product-description[_ngcontent-%COMP%]   .actual-price[_ngcontent-%COMP%]{font-weight:500}.product-description[_ngcontent-%COMP%]   .previous-price[_ngcontent-%COMP%]{text-decoration:line-through}.product-description[_ngcontent-%COMP%]   .previous-price[_ngcontent-%COMP%]:before{content:"";width:0;height:100%;border-right:2px solid;margin:0 6px 0 3px}.searchbar-input.sc-ion-searchbar-md[_ngcontent-%COMP%]{--border-radius:20px!important}ion-badge[_ngcontent-%COMP%]{position:absolute;background:#f70b0b;border-radius:50%;opacity:.9;top:-9px;right:17px;width:20px;height:20px;font-size:10px;z-index:9}']}),P)}],K=((O=function n(){t(this,n)}).\u0275mod=p.Fb({type:O}),O.\u0275inj=p.Eb({factory:function(t){return new(t||O)},imports:[[l.i.forChild(J)],l.i]}),O),I=((M=function n(){t(this,n)}).\u0275mod=p.Fb({type:M}),M.\u0275inj=p.Eb({factory:function(t){return new(t||M)},imports:[[i.bb,a.b,c.b,s.a,K]]}),M)}}])}();