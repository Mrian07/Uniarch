!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[12,27,28],{X3zk:function(t,r,o){"use strict";o.r(r),o.d(r,"LoginPageModule",(function(){return y}));var i=o("ofXK"),a=o("3Pt+"),s=o("TEn/"),c=o("tyNb"),u=o("mrSG"),l=o("PACC"),h=o("fXoL"),b=o("X+KH"),f=o("tk/3"),g=o("YOl1");function d(e,t){1&e&&(h.Kb(0,"h6",19),h.nc(1," Masuk "),h.Jb())}function p(e,t){1&e&&h.Ib(0,"ion-spinner",20)}var m,v,k,w=[{path:"",component:(m=function(){function t(n,r,o,i,a,s,c,u){e(this,t),this.platform=n,this.userData=r,this.router=o,this.loadingCtrl=i,this.http2=a,this.alertController=s,this.actionSheetController=c,this.util=u,this.isLogin=!1,this.login={nama:"",password:"",email:"",provinsi:"",kota:"",kecamatan:"",alamat:"",jk_pel:"",confirm_password:"",no_telp:"",username:""},this.submitted=!1,this.hasil={},this.info={}}return n(t,[{key:"ngOnInit",value:function(){}},{key:"alert",value:function(e,t,n){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.alertController.create({header:e,subHeader:t,message:n,buttons:["OK"]});case 2:return this.alert1=r.sent,r.next=5,this.alert1.present();case 5:case"end":return r.stop()}}),r,this)})))}},{key:"ionViewDidEnter",value:function(){}},{key:"onLogin",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("login"),e.next=3,this.loadingCtrl.create({message:"Please wait..."});case 3:if(this.loading=e.sent,this.submitted=!0,""!=this.login.username){e.next=9;break}e.t0=(this.util.showWarningAlert("Email Wajib Diisi"),!1),e.next=18;break;case 9:if(""!=this.login.password){e.next=13;break}e.t1=(this.util.showWarningAlert("Password Wajib Diisi"),!1),e.next=17;break;case 13:return this.isLogin=!0,e.next=16,this.loading.present();case 16:e.t1=void this.http2.post(l.a+"api_login",{email:this.login.username,password:this.login.password},{}).subscribe((function(e){if(console.log({email:t.login.username,password:t.login.password}),console.log(e),t.isLogin=!1,t.hasil=e,t.info=e,1==t.hasil.code){console.log("INFO DATA",t.info),console.log("id_pel",t.info.id_pel);var n=JSON.parse(localStorage.getItem("akses"))||[];n.push(t.info),localStorage.setItem("akses",JSON.stringify(n)),localStorage.setItem("userid",t.info.id_pel),t.userData.login(t.hasil).then((function(e){t.loading.dismiss(),t.util.showToast("Berhasil Login","success","bottom"),t.router.navigateByUrl("/tabs/tab1")}))}else t.loading.dismiss(),t.util.showToast(t.hasil.msg,"danger","bottom")}));case 17:e.t0=e.t1;case 18:return e.abrupt("return",e.t0);case 19:case"end":return e.stop()}}),e,this)})))}},{key:"loadConfrim",value:function(e){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Notifikasi",message:e+",<p></p>",buttons:[{text:"Ok",role:"cancel",cssClass:"secondary",handler:function(e){console.log("Confirm Cancel: blah")}}]});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"lupa_password",value:function(){this.router.navigateByUrl("/lupa-password")}},{key:"back",value:function(){this.router.navigateByUrl("/tabs/tab1")}},{key:"onSignup",value:function(){this.router.navigateByUrl("/signup")}},{key:"daftar",value:function(){this.router.navigateByUrl("/register")}},{key:"goWa",value:function(){}}]),t}(),m.\u0275fac=function(e){return new(e||m)(h.Hb(s.hb),h.Hb(b.a),h.Hb(c.f),h.Hb(s.cb),h.Hb(f.a),h.Hb(s.b),h.Hb(s.a),h.Hb(g.a))},m.\u0275cmp=h.Bb({type:m,selectors:[["app-login"]],decls:29,vars:5,consts:[[2,"--background","var(--ion-color-primary)"],["slot","start",2,"color","#fff"],["src","/assets/icon/chevron-back-outline.svg",3,"click"],[2,"color","#fff","margin-top","5px"],[2,"--background","var(--ion-color-bg)",3,"fullscreen"],[2,"text-align","center","padding","20px","background","var(--ion-color-primary)","margin","15% 8%","border-radius","20px"],["size","12"],[2,"margin","0px"],[2,"color","#fff"],[2,"margin","auto","padding","0px","border-radius","30px","margin-top","10px","width","100%"],["lines","none",2,"height","40px"],["type","email","placeholder","Email","autofocus","true",2,"margin-bottom","7px",3,"ngModel","ngModelChange"],["type","password","placeholder","Password",2,"margin-bottom","7px",3,"ngModel","ngModelChange"],["size","12",2,"text-align","right",3,"click"],["size","small","expand","block","fill","outline",1,"btn",2,"height","37px","background","var(--ion-color-secondary)","width","100%","border-radius","20px",3,"click"],["style","color: #fff;font-weight: 500;font-size: 15px;text-transform: none;",4,"ngIf"],["name","circles","color","light","style","color: #fff;",4,"ngIf"],["size","12",2,"text-align","center",3,"click"],[2,"color","#fff","margin","0px"],[2,"color","#fff","font-weight","500","font-size","15px","text-transform","none"],["name","circles","color","light",2,"color","#fff"]],template:function(e,t){1&e&&(h.Kb(0,"ion-header"),h.Kb(1,"ion-toolbar",0),h.Kb(2,"ion-buttons",1),h.Kb(3,"ion-back-button",2),h.Sb("click",(function(){return t.back()})),h.Jb(),h.Jb(),h.Kb(4,"ion-title",3),h.nc(5,"Masuk"),h.Jb(),h.Jb(),h.Jb(),h.Kb(6,"ion-content",4),h.Kb(7,"ion-row",5),h.Kb(8,"ion-col",6),h.Kb(9,"h5",7),h.Kb(10,"b",8),h.nc(11,"LOGIN"),h.Jb(),h.Jb(),h.Jb(),h.Kb(12,"ion-card",9),h.Kb(13,"ion-item",10),h.Kb(14,"ion-input",11),h.Sb("ngModelChange",(function(e){return t.login.username=e})),h.Jb(),h.Jb(),h.Jb(),h.Kb(15,"ion-card",9),h.Kb(16,"ion-item",10),h.Kb(17,"ion-input",12),h.Sb("ngModelChange",(function(e){return t.login.password=e})),h.Jb(),h.Jb(),h.Jb(),h.Kb(18,"ion-col",13),h.Sb("click",(function(){return t.lupa_password()})),h.Kb(19,"h6",8),h.nc(20,"Lupa Password?"),h.Jb(),h.Jb(),h.Kb(21,"ion-button",14),h.Sb("click",(function(){return t.onLogin()})),h.mc(22,d,2,0,"h6",15),h.mc(23,p,1,0,"ion-spinner",16),h.Jb(),h.Kb(24,"ion-col",17),h.Sb("click",(function(){return t.daftar()})),h.Kb(25,"h6",18),h.nc(26,"Belum Punya akun? "),h.Kb(27,"b",8),h.nc(28,"Daftar"),h.Jb(),h.Jb(),h.Jb(),h.Jb(),h.Jb()),2&e&&(h.xb(6),h.bc("fullscreen",!0),h.xb(8),h.bc("ngModel",t.login.username),h.xb(3),h.bc("ngModel",t.login.password),h.xb(5),h.bc("ngIf",!t.isLogin),h.xb(1),h.bc("ngIf",t.isLogin))},directives:[s.u,s.ab,s.i,s.e,s.f,s.Z,s.p,s.J,s.o,s.j,s.z,s.y,s.kb,a.e,a.h,s.h,i.l,s.S],styles:[""]}),m)}],x=((k=function t(){e(this,t)}).\u0275mod=h.Fb({type:k}),k.\u0275inj=h.Eb({factory:function(e){return new(e||k)},imports:[[c.h.forChild(w)],c.h]}),k),y=((v=function t(){e(this,t)}).\u0275mod=h.Fb({type:v}),v.\u0275inj=h.Eb({factory:function(e){return new(e||v)},imports:[[i.b,a.b,s.bb,x]]}),v)},YOl1:function(t,r,o){"use strict";o.d(r,"a",(function(){return u}));var i=o("mrSG"),a=o("fXoL"),s=o("TEn/"),c=o("tyNb"),u=function(){var t=function(){function t(n,r,o,i,a){e(this,t),this.loadingCtrl=n,this.alertCtrl=r,this.toastCtrl=o,this.router=i,this.navCtrl=a,this.isLoading=!1}return n(t,[{key:"show",value:function(e){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,this.loadingCtrl.create({message:e,spinner:"bubbles"}).then((function(e){e.present().then((function(){n.isLoading||e.dismiss().then((function(){return console.log("abort presenting")}))}))}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"hide",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!1,e.next=3,this.loadingCtrl.dismiss().then((function(){return console.log("dismissed Ok")}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"showWarningAlert",value:function(e){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertCtrl.create({header:"Warning",message:e,buttons:["OK"]});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"showSimpleAlert",value:function(e){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertCtrl.create({header:"",message:e,buttons:["OK"]});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"showErrorAlert",value:function(e){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertCtrl.create({header:"Error",message:e,buttons:["OK"]});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"getEmailFilter",value:function(e){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!/^[\w._-]+[+]?[\w._-]+@[\w.-]+\.[a-zA-Z]{2,6}$/.test(e)){t.next=2;break}return t.abrupt("return",!0);case 2:return t.next=4,this.alertCtrl.create({header:"Warning",message:"Please enter valid email",buttons:["OK"]});case 4:return n=t.sent,t.next=7,n.present();case 7:return t.abrupt("return",!1);case 8:case"end":return t.stop()}}),t,this)})))}},{key:"showToast",value:function(e,t,n){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.toastCtrl.create({message:e,duration:2e3,color:t,position:n});case 2:r.sent.present();case 3:case"end":return r.stop()}}),r,this)})))}},{key:"shoNotification",value:function(e,t,n){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.toastCtrl.create({message:e,duration:4e3,color:t,position:n,buttons:[{text:"Ok",role:"cancel",handler:function(){}}]});case 2:r.sent.present();case 3:case"end":return r.stop()}}),r,this)})))}},{key:"errorToast",value:function(e){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toastCtrl.create({message:e,duration:2e3});case 2:t.sent.present();case 3:case"end":return t.stop()}}),t,this)})))}},{key:"apiErrorHandler",value:function(e){-1==e.status?this.showErrorAlert("Failed To Connect With Server"):401==e.status?(this.showErrorAlert("Unauthorized Request!"),this.navCtrl.navigateRoot("/login")):500==e.status&&this.showErrorAlert("Somethimg Went Wrong..")}},{key:"makeid",value:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*r));return t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Ob(s.cb),a.Ob(s.b),a.Ob(s.lb),a.Ob(c.f),a.Ob(s.fb))},t.\u0275prov=a.Db({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}])}();