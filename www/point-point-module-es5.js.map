{"version":3,"sources":["webpack:///src/app/point/point.page.html","webpack:///src/app/point/point-routing.module.ts","webpack:///src/app/point/point.module.ts","webpack:///src/app/point/point.page.scss","webpack:///src/app/point/point.page.ts"],"names":["routes","path","component","PointPageRoutingModule","imports","forChild","exports","PointPageModule","declarations","PointPage","servcart","loadingctrl","navCtrl","consta","router","userdata","segment","data_user","getUsername","then","hsl","console","log","navigateByUrl","getHadiah","getRiwayat","getPoin","create","message","loading1","present","kode_pel","id_pel","data","dismiss","set","setpoin","riwayat","poin","status","param","params","queryParams","kode_reward","navigateForward","kode","loading2","insertPenukaran","ionViewWillEnter","show_alert","title","get_keranjang","hasil","total_keranjang","total_qty","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,sBAAsB;AAAA;AAAA,O;;AAAtBA,4BAAsB,6DAJlC,+DAAS;AACRC,eAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERM,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAIkC,GAAtBH,sBAAsB,CAAtB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCGAI,eAAe;AAAA;AAAA,O;;AAAfA,qBAAe,6DAT3B,+DAAS;AACRH,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,4EAJO,CADD;AAORI,oBAAY,EAAE,CAAC,qDAAD;AAPN,OAAT,CAS2B,GAAfD,eAAe,CAAf;;;;;;;;;;;;;;;;ACnBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCYFE,SAAS;AAIpB,2BACSC,QADT,EAESC,WAFT,EAGSC,OAHT,EAIUC,MAJV,EAKSC,MALT,EAMUC,QANV,EAM4B;AAAA;;AALnB,eAAAL,QAAA,GAAAA,QAAA;AACA,eAAAC,WAAA,GAAAA,WAAA;AACA,eAAAC,OAAA,GAAAA,OAAA;AACC,eAAAC,MAAA,GAAAA,MAAA;AACD,eAAAC,MAAA,GAAAA,MAAA;AACC,eAAAC,QAAA,GAAAA,QAAA;AAPV,eAAAC,OAAA,GAAU,OAAV;AAYA,eAAAC,SAAA,GAAiB,EAAjB;AAHC;;AAZmB;AAAA;AAAA,qCAaT,CACV;AAdmB;AAAA;AAAA,6CAgBD;AAAA;;AACjB,iBAAKF,QAAL,CAAcG,WAAd,GAA4BC,IAA5B,CAAiC,UAAAC,GAAG,EAAI;AACtCC,qBAAO,CAACC,GAAR,CAAYF,GAAZ,EAAiB,OAAjB;;AACA,kBAAIA,GAAG,IAAI,IAAX,EAAiB;AACf,qBAAI,CAACN,MAAL,CAAYS,aAAZ,CAA0B,OAA1B;AACD,eAFD,MAEO;AACL,qBAAI,CAACN,SAAL,GAAiBG,GAAjB;;AACA,qBAAI,CAACI,SAAL;;AACA,qBAAI,CAACC,UAAL;;AACA,qBAAI,CAACC,OAAL;AACD;AACF,aAVD;AAWD;AA5BmB;AAAA;AAAA,sCAgCF;;;;;;;;;;AACA,6BAAM,KAAKf,WAAL,CAAiBgB,MAAjB,CAAwB;AAC5CC,+BAAO,EAAE;AADmC,uBAAxB,CAAN;;;AAAhB,2BAAKC,Q;AAGL,2BAAKA,QAAL,CAAcC,OAAd;AACIC,8B,GAAW,KAAKd,SAAL,CAAee,M;AAC9B,2BAAKtB,QAAL,CAAcc,SAAd,CAAwBO,QAAxB,EAAkCZ,IAAlC,CAAuC,UAAAc,IAAI,EAAI;AAC7C,8BAAI,CAACJ,QAAL,CAAcK,OAAd;;AACA,4BAAIC,GAAG,GAAQ,EAAf;AACAA,2BAAG,GAAGF,IAAN;AACAZ,+BAAO,CAACC,GAAR,CAAYa,GAAG,CAACF,IAAhB;AACA,8BAAI,CAACG,OAAL,GAAeD,GAAG,CAACF,IAAnB;AACD,uBAND;;;;;;;;;AAOD;AA7CmB;AAAA;AAAA,uCAiDD;;;;;;;;;AACbF,8B,GAAW,KAAKd,SAAL,CAAee,M;AAC9B,2BAAKtB,QAAL,CAAce,UAAd,CAAyBM,QAAzB,EAAmCZ,IAAnC,CAAwC,UAAAc,IAAI,EAAI;AAC9C,4BAAIE,GAAG,GAAQ,EAAf;AACAA,2BAAG,GAAGF,IAAN;AACAZ,+BAAO,CAACC,GAAR,CAAYa,GAAG,CAACF,IAAhB;AACA,8BAAI,CAACI,OAAL,GAAeF,GAAG,CAACF,IAAnB;AACD,uBALD;;;;;;;;;AAMD;AAzDmB;AAAA;AAAA,oCA4DJ;;;;;;;;;AACVF,8B,GAAW,KAAKd,SAAL,CAAee,M;AAC9B,2BAAKtB,QAAL,CAAcgB,OAAd,CAAsBK,QAAtB,EAAgCZ,IAAhC,CAAqC,UAAAc,IAAI,EAAI;AAC3C,4BAAIE,GAAG,GAAQ,EAAf;AACAA,2BAAG,GAAGF,IAAN;AACAZ,+BAAO,CAACC,GAAR,CAAYa,GAAG,CAACG,IAAhB;;AACA,4BAAIH,GAAG,CAACI,MAAJ,KAAe,CAAnB,EAAsB;AACpB,gCAAI,CAACD,IAAL,GAAY,CAAZ;AACD,yBAFD,MAEO;AACL,gCAAI,CAACA,IAAL,GAAYH,GAAG,CAACG,IAAhB;AACD;AACF,uBATD;;;;;;;;;AAUD;AAxEmB;AAAA;AAAA,qCAyEHE,KAzEG,EAyEI;;;;;;;AAClBC,4B,GAA2B;AAC7BC,mCAAW,EAAE;AACXC,qCAAW,EAAEH;AADF;AADgB,uB;AAK/B,2BAAK5B,OAAL,CAAagC,eAAb,CAA6B,YAA7B,EAA2CH,MAA3C;;;;;;;;;AACD;AAhFmB;AAAA;AAAA,kCAoFNI,IApFM,EAoFAP,IApFA,EAoFM;;;;;;;;;AAER,6BAAM,KAAK3B,WAAL,CAAiBgB,MAAjB,CAAwB;AAC5CC,+BAAO,EAAE;AADmC,uBAAxB,CAAN;;;AAAhB,2BAAKkB,Q;AAGL,2BAAKA,QAAL,CAAchB,OAAd;AACA;;;;;AAIA,2BAAKpB,QAAL,CAAcqC,eAAd,CAA8BF,IAA9B,EAAoC,KAAK5B,SAAL,CAAee,MAAnD,EAA2Db,IAA3D,CAAgE,UAAAc,IAAI,EAAI;AACtE,4BAAIE,GAAG,GAAQ,EAAf;AACAA,2BAAG,GAAGF,IAAN;;AACA,8BAAI,CAACa,QAAL,CAAcZ,OAAd;;AACA,8BAAI,CAACc,gBAAL;;AACA,8BAAI,CAACnC,MAAL,CAAYoC,UAAZ,CAAuB,OAAvB,EAAgC,EAAhC,EAAoCd,GAAG,CAACe,KAAxC;AACD,uBAND,E,CAOA;;;;;;;;;AACD;AAtGmB;AAAA;AAAA,gDAwGE;AAAA;;AACpB,iBAAKxC,QAAL,CAAcyC,aAAd,CAA4B,EAA5B,EAAgChC,IAAhC,CAAqC,UAAAiC,KAAK,EAAI;AAC5C/B,qBAAO,CAACC,GAAR,CAAY8B,KAAZ,EAAmB,WAAnB;AACA,kBAAIhC,GAAG,GAAQ,EAAf;AACAA,iBAAG,GAAGgC,KAAN;AACA,oBAAI,CAACC,eAAL,GAAuBjC,GAAG,CAACkC,SAA3B;AACD,aALD;AAMD;AA/GmB;AAAA;AAAA,0CAgHJ;AACd,iBAAKxC,MAAL,CAAYS,aAAZ,CAA0B,UAA1B;AACD;AAlHmB;;AAAA;AAAA,S;;;;gBAXb;;gBACgC;;gBAAf;;gBAEjB;;gBADA;;gBAEA;;;;AAOId,eAAS,6DALrB,gEAAU;AACT8C,gBAAQ,EAAE,WADD;AAETC,gBAAQ,EAAR;AAAA;AAAA,4FAFS;;;;AAAA,OAAV,CAKqB,GAAT/C,SAAS,CAAT","file":"point-point-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\" style=\\\"color: #fff;\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title style=\\\"color: #fff;\\\">Poin</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content [fullscreen]=\\\"true\\\" style=\\\"--background: var(--ion-color-bg);\\\">\\r\\n  <ion-card style=\\\"background: #fff;border-radius: 15px;\\\">\\r\\n    <ion-row style=\\\"margin:15px\\\">\\r\\n      <ion-col size=\\\"2\\\">\\r\\n        <p>\\r\\n          <ion-icon name=\\\"cash\\\" class=\\\"icon-set\\\" style=\\\"color: var(--ion-color-primary);\\\"></ion-icon>\\r\\n        </p>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"10\\\">\\r\\n        <p class=\\\"title\\\" style=\\\"color: #222;\\\">{{poin}}</p>\\r\\n        <p class=\\\"title-small\\\" style=\\\"color: #222;\\\">Total Point anda.</p>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-card>\\r\\n\\r\\n  <ion-segment [(ngModel)]=\\\"segment\\\">\\r\\n    <ion-segment-button value=\\\"tukar\\\">\\r\\n      TUKAR POIN\\r\\n    </ion-segment-button>\\r\\n    <ion-segment-button value=\\\"riwayat\\\">\\r\\n      RIWAYAT TUKAR\\r\\n    </ion-segment-button>\\r\\n  </ion-segment>\\r\\n\\r\\n\\r\\n  <div [ngSwitch]=\\\"segment\\\">\\r\\n    <ion-list *ngSwitchCase=\\\"'tukar'\\\" style=\\\"background: var(--ion-color-bg);\\\">\\r\\n      <ion-card *ngFor=\\\"let item of setpoin\\\" style=\\\"background: #fff;\\\">\\r\\n        <ion-row style=\\\"padding:10px\\\">\\r\\n          <!-- <ion-col size=\\\"1\\\">\\r\\n              <p (click)=\\\"get_detail(item.id)\\\">\\r\\n                <ion-icon ios=\\\"ios-more\\\" md=\\\"md-more\\\" class=\\\"icon-set\\\"></ion-icon>\\r\\n              </p>\\r\\n            </ion-col> -->\\r\\n          <ion-col size=\\\"12\\\" (click)=\\\"get_detail(item.id)\\\">\\r\\n            <p class=\\\"title\\\" style=\\\"margin-top: 5px;\\\">{{item.title}}</p>\\r\\n            <ion-row>\\r\\n              <ion-col size=\\\"8\\\">\\r\\n                <h6 class=\\\"title-poin\\\">{{item.jumlah_poin | currency : 'IDR' : ''}}</h6>\\r\\n              </ion-col>\\r\\n\\r\\n            </ion-row>\\r\\n          </ion-col>\\r\\n          <ion-col size=\\\"12\\\" style=\\\"text-align: center;\\\">\\r\\n            <!-- <span class=\\\"status\\\" *ngIf=\\\"item.jumlah>0\\\">Menunggu</span> -->\\r\\n            <ion-button size=\\\"mediuum\\\" *ngIf=\\\"item.jumlah>0\\\" color=\\\"primary\\\" style=\\\"--border-radius:10px;width: 100%;\\\"\\r\\n              disabled>Sedang Proses</ion-button>\\r\\n            <ion-button size=\\\"mediuum\\\" *ngIf=\\\"item.jumlah==0\\\" color=\\\"primary\\\" style=\\\"--border-radius:10px;width: 100%;\\\"\\r\\n              (click)=\\\"goTukar(item.id,item.jumlah_poin)\\\">Tukar</ion-button>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-card>\\r\\n    </ion-list>\\r\\n\\r\\n    <ion-list *ngSwitchCase=\\\"'riwayat'\\\" style=\\\"background: #fff;\\\">\\r\\n      <ion-card *ngFor=\\\"let item of riwayat\\\" style=\\\"background: #fff;padding: 10px;\\\">\\r\\n        <ion-row>\\r\\n          <ion-col size=\\\"12\\\">\\r\\n            <p class=\\\"title\\\" (click)=\\\"get_detail(item.id)\\\" style=\\\"margin-left:3px;\\\">Hadiah Anda : {{item.hadiah}}</p>\\r\\n            <ion-row>\\r\\n              <ion-col size=\\\"6\\\">\\r\\n                <span>{{item.poin | currency : 'IDR' : ''}}</span>\\r\\n              </ion-col>\\r\\n              <ion-col size=\\\"6\\\" style=\\\"text-align: right;\\\">\\r\\n                <p class=\\\"status\\\">{{item.waktu_penukaran}}</p>\\r\\n              </ion-col>\\r\\n            </ion-row>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-card>\\r\\n    </ion-list>\\r\\n  </div>\\r\\n</ion-content>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { PointPage } from './point.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PointPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class PointPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { PointPageRoutingModule } from './point-routing.module';\r\n\r\nimport { PointPage } from './point.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    PointPageRoutingModule\r\n  ],\r\n  declarations: [PointPage]\r\n})\r\nexport class PointPageModule {}\r\n","export default \".title {\\n  font-size: 18px;\\n  font-weight: bold;\\n  color: #222;\\n  margin-bottom: 0px;\\n}\\n\\n.title-small {\\n  margin-top: 0px;\\n  font-size: 14px;\\n  color: #222;\\n}\\n\\n.title-poin {\\n  margin-top: 7px;\\n  margin-bottom: 6px;\\n  font-weight: 800;\\n  font-size: 16px;\\n  color: var(--ion-color-primary);\\n}\\n\\n.icon-set {\\n  font-size: 30px;\\n  color: #222;\\n  margin: auto;\\n  display: block;\\n}\\n\\n.status {\\n  margin-top: 7px;\\n  font-weight: 500;\\n  color: var(--ion-color-primary);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcG9pbnQvcG9pbnQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZUFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0FBQ0o7O0FBQ0E7RUFDSSxlQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7QUFFSjs7QUFBQTtFQUNJLGVBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLCtCQUFBO0FBR0o7O0FBREE7RUFDSSxlQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxjQUFBO0FBSUo7O0FBRkE7RUFDSSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSwrQkFBQTtBQUtKIiwiZmlsZSI6InNyYy9hcHAvcG9pbnQvcG9pbnQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRpdGxle1xyXG4gICAgZm9udC1zaXplOjE4cHg7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIGNvbG9yOiMyMjI7XHJcbiAgICBtYXJnaW4tYm90dG9tOjBweDtcclxufVxyXG4udGl0bGUtc21hbGx7XHJcbiAgICBtYXJnaW4tdG9wOjBweDtcclxuICAgIGZvbnQtc2l6ZToxNHB4O1xyXG4gICAgY29sb3I6IzIyMjtcclxufVxyXG4udGl0bGUtcG9pbntcclxuICAgIG1hcmdpbi10b3A6N3B4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTo2cHg7XHJcbiAgICBmb250LXdlaWdodDo4MDA7XHJcbiAgICBmb250LXNpemU6MTZweDtcclxuICAgIGNvbG9yOnZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcclxufVxyXG4uaWNvbi1zZXR7XHJcbiAgICBmb250LXNpemU6MzBweDtcclxuICAgIGNvbG9yOiMyMjI7XHJcbiAgICBtYXJnaW46YXV0bztcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG59XHJcbi5zdGF0dXN7XHJcbiAgICBtYXJnaW4tdG9wOjdweDtcclxuICAgIGZvbnQtd2VpZ2h0OjUwMDtcclxuICAgIGNvbG9yOnZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcclxufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\r\nimport { DataCartService } from '../services/data-cart.service';\r\nimport { AlertController, NavController, LoadingController } from '@ionic/angular';\r\nimport { Router, NavigationExtras, ActivatedRoute } from '@angular/router';\r\nimport { ConstantService } from '../providers/constant.service';\r\nimport { UserData } from '../providers/user-data';\r\n\r\n@Component({\r\n  selector: 'app-point',\r\n  templateUrl: './point.page.html',\r\n  styleUrls: ['./point.page.scss'],\r\n})\r\nexport class PointPage implements OnInit {\r\n\r\n  total_keranjang: any;\r\n  segment = 'tukar';\r\n  constructor(\r\n    public servcart: DataCartService,\r\n    public loadingctrl: LoadingController,\r\n    public navCtrl: NavController,\r\n    private consta: ConstantService,\r\n    public router: Router,\r\n    private userdata: UserData\r\n  ) {\r\n  }\r\n  ngOnInit() {\r\n  }\r\n  data_user: any = {};\r\n  ionViewWillEnter() {\r\n    this.userdata.getUsername().then(hsl => {\r\n      console.log(hsl, 'hasil');\r\n      if (hsl == null) {\r\n        this.router.navigateByUrl('login');\r\n      } else {\r\n        this.data_user = hsl;\r\n        this.getHadiah();\r\n        this.getRiwayat();\r\n        this.getPoin();\r\n      }\r\n    })\r\n  }\r\n\r\n  loading1: any;\r\n  setpoin: any;\r\n  async getHadiah() {\r\n    this.loading1 = await this.loadingctrl.create({\r\n      message: 'Mohon Tunggu'\r\n    });\r\n    this.loading1.present();\r\n    let kode_pel = this.data_user.id_pel;\r\n    this.servcart.getHadiah(kode_pel).then(data => {\r\n      this.loading1.dismiss();\r\n      let set: any = {};\r\n      set = data;\r\n      console.log(set.data);\r\n      this.setpoin = set.data;\r\n    });\r\n  }\r\n\r\n  riwayat: any;\r\n\r\n  async getRiwayat() {\r\n    let kode_pel = this.data_user.id_pel;\r\n    this.servcart.getRiwayat(kode_pel).then(data => {\r\n      let set: any = {};\r\n      set = data;\r\n      console.log(set.data);\r\n      this.riwayat = set.data;\r\n    });\r\n  }\r\n\r\n  poin: any;\r\n  async getPoin() {\r\n    let kode_pel = this.data_user.id_pel;\r\n    this.servcart.getPoin(kode_pel).then(data => {\r\n      let set: any = {};\r\n      set = data;\r\n      console.log(set.poin);\r\n      if (set.status === 0) {\r\n        this.poin = 0;\r\n      } else {\r\n        this.poin = set.poin;\r\n      }\r\n    });\r\n  }\r\n  async get_detail(param) {\r\n    let params: NavigationExtras = {\r\n      queryParams: {\r\n        kode_reward: param\r\n      }\r\n    };\r\n    this.navCtrl.navigateForward('poindetail', params);\r\n  }\r\n\r\n  loading2: any;\r\n\r\n  async goTukar(kode, poin) {\r\n\r\n    this.loading2 = await this.loadingctrl.create({\r\n      message: 'Proses Penukaran...'\r\n    });\r\n    this.loading2.present();\r\n    /*if(this.poin<Math.abs(poin)){\r\n      this.consta.show_alert('Notif', '','Poin belum mencukupi.');\r\n      this.loading2.dismiss();\r\n    }else{*/\r\n    this.servcart.insertPenukaran(kode, this.data_user.id_pel).then(data => {\r\n      let set: any = {};\r\n      set = data;\r\n      this.loading2.dismiss();\r\n      this.ionViewWillEnter();\r\n      this.consta.show_alert('Notif', '', set.title);\r\n    })\r\n    //}\r\n  }\r\n\r\n  get_total_keranjang() {\r\n    this.servcart.get_keranjang(60).then(hasil => {\r\n      console.log(hasil, 'keranjang')\r\n      let hsl: any = {};\r\n      hsl = hasil;\r\n      this.total_keranjang = hsl.total_qty;\r\n    })\r\n  }\r\n  goto_checkout() {\r\n    this.router.navigateByUrl('checkout');\r\n  }\r\n\r\n}\r\n"]}