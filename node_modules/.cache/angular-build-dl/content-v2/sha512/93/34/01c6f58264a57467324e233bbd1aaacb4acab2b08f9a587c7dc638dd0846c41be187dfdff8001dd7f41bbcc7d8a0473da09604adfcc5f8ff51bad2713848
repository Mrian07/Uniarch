!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[17,27,28],{YOl1:function(e,r,i){"use strict";i.d(r,"a",(function(){return l}));var a=i("mrSG"),o=i("fXoL"),s=i("TEn/"),c=i("tyNb"),l=function(){var e=function(){function e(n,r,i,a,o){t(this,e),this.loadingCtrl=n,this.alertCtrl=r,this.toastCtrl=i,this.router=a,this.navCtrl=o,this.isLoading=!1}return n(e,[{key:"show",value:function(t){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,this.loadingCtrl.create({message:t,spinner:"bubbles"}).then((function(t){t.present().then((function(){n.isLoading||t.dismiss().then((function(){return console.log("abort presenting")}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"hide",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isLoading=!1,t.next=3,this.loadingCtrl.dismiss().then((function(){return console.log("dismissed Ok")}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"showWarningAlert",value:function(t){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertCtrl.create({header:"Warning",message:t,buttons:["OK"]});case 2:return n=e.sent,e.next=5,n.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"showSimpleAlert",value:function(t){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertCtrl.create({header:"",message:t,buttons:["OK"]});case 2:return n=e.sent,e.next=5,n.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"showErrorAlert",value:function(t){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertCtrl.create({header:"Error",message:t,buttons:["OK"]});case 2:return n=e.sent,e.next=5,n.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"getEmailFilter",value:function(t){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!/^[\w._-]+[+]?[\w._-]+@[\w.-]+\.[a-zA-Z]{2,6}$/.test(t)){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,this.alertCtrl.create({header:"Warning",message:"Please enter valid email",buttons:["OK"]});case 4:return n=e.sent,e.next=7,n.present();case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"showToast",value:function(t,e,n){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.toastCtrl.create({message:t,duration:2e3,color:e,position:n});case 2:r.sent.present();case 3:case"end":return r.stop()}}),r,this)})))}},{key:"shoNotification",value:function(t,e,n){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.toastCtrl.create({message:t,duration:4e3,color:e,position:n,buttons:[{text:"Ok",role:"cancel",handler:function(){}}]});case 2:r.sent.present();case 3:case"end":return r.stop()}}),r,this)})))}},{key:"errorToast",value:function(t){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastCtrl.create({message:t,duration:2e3});case 2:e.sent.present();case 3:case"end":return e.stop()}}),e,this)})))}},{key:"apiErrorHandler",value:function(t){-1==t.status?this.showErrorAlert("Failed To Connect With Server"):401==t.status?(this.showErrorAlert("Unauthorized Request!"),this.navCtrl.navigateRoot("/login")):500==t.status&&this.showErrorAlert("Somethimg Went Wrong..")}},{key:"makeid",value:function(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*r));return e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Ob(s.cb),o.Ob(s.b),o.Ob(s.lb),o.Ob(c.f),o.Ob(s.fb))},e.\u0275prov=o.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},"k+ul":function(e,r,i){"use strict";i.r(r),i.d(r,"Tab3PageModule",(function(){return O}));var a=i("TEn/"),o=i("tyNb"),s=i("ofXK"),c=i("3Pt+"),l=i("mrSG"),u=i("fXoL"),b=i("tk/3"),h=i("UyVC"),d=i("PACC"),g=i("X+KH"),p=i("YOl1");function f(t,e){if(1&t){var n=u.Lb();u.Kb(0,"ion-item",10),u.Kb(1,"ion-checkbox",11),u.Sb("ngModelChange",(function(t){return u.ic(n),e.$implicit.isChecked=t}))("click",(function(t){return u.ic(n),u.Vb(2).pilih_item(t)})),u.Jb(),u.Kb(2,"ion-label",21),u.Kb(3,"ion-row",22),u.Kb(4,"ion-col",23),u.Ib(5,"img",24),u.Jb(),u.Kb(6,"ion-col",25),u.Kb(7,"h5",26),u.nc(8),u.Jb(),u.Kb(9,"p"),u.nc(10),u.Jb(),u.Jb(),u.Kb(11,"ion-col",27),u.Kb(12,"ion-checkbox",28),u.Sb("ngModelChange",(function(t){return u.ic(n),e.$implicit.isChecked=t}))("click",(function(t){return u.ic(n),u.Vb(2).pilih_item(t)})),u.Jb(),u.Jb(),u.Kb(13,"ion-row",29),u.Kb(14,"ion-col",17),u.Kb(15,"button",30),u.Sb("click",(function(){u.ic(n);var t=e.index;return u.Vb(2).add_minus(t)})),u.Ib(16,"ion-icon",31),u.Jb(),u.Kb(17,"p",32),u.Kb(18,"input",33),u.Sb("ngModelChange",(function(t){return u.ic(n),e.$implicit.qty_pro=t})),u.Jb(),u.Jb(),u.Kb(19,"button",30),u.Sb("click",(function(){u.ic(n);var t=e.index;return u.Vb(2).add_plus(t)})),u.Ib(20,"ion-icon",34),u.Jb(),u.Jb(),u.Kb(21,"ion-col",19),u.Kb(22,"p"),u.Kb(23,"b",20),u.nc(24),u.Wb(25,"currency"),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Jb()}if(2&t){var r=e.$implicit;u.xb(1),u.bc("ngModel",r.isChecked),u.xb(4),u.cc("src",r.gambar_pro,u.kc),u.xb(3),u.oc(r.nama_pro),u.xb(2),u.qc(" ",r.qty_pro," x ",r.harga_pro," "),u.xb(2),u.bc("ngModel",r.isChecked),u.xb(6),u.bc("ngModel",r.qty_pro),u.xb(6),u.oc(u.Yb(25,8,r.sub_total_real,"IDR","Rp."))}}function k(t,e){if(1&t){var n=u.Lb();u.Kb(0,"ion-list",8),u.Kb(1,"div",9),u.Kb(2,"ion-item",10),u.Kb(3,"ion-checkbox",11),u.Sb("ngModelChange",(function(t){return u.ic(n),u.Vb().checkall=t}))("click",(function(){return u.ic(n),u.Vb().check_all()})),u.Jb(),u.Kb(4,"ion-label"),u.nc(5,"Pilih Semua"),u.Jb(),u.Jb(),u.mc(6,f,26,12,"ion-item",12),u.Kb(7,"ion-item",10),u.Kb(8,"ion-row",13),u.Kb(9,"ion-col",14),u.Kb(10,"ion-button",15),u.Sb("click",(function(){return u.ic(n),u.Vb().hapus_keranjang()})),u.nc(11," Hapus Produk"),u.Jb(),u.Jb(),u.Kb(12,"ion-col",14),u.Kb(13,"ion-button",16),u.Sb("click",(function(){return u.ic(n),u.Vb().update_keranjang()})),u.nc(14," Ubah Qty"),u.Jb(),u.Jb(),u.Kb(15,"ion-col",17),u.Kb(16,"ion-button",18),u.Sb("click",(function(){return u.ic(n),u.Vb().ke_pengiriman()})),u.Kb(17,"b",1),u.nc(18,"Lanjutkan"),u.Jb(),u.Jb(),u.Jb(),u.Kb(19,"ion-col",19),u.Kb(20,"p"),u.Kb(21,"b",20),u.nc(22),u.Wb(23,"currency"),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Ib(24,"br"),u.Ib(25,"br"),u.Ib(26,"br"),u.Ib(27,"br"),u.Ib(28,"br"),u.Ib(29,"br"),u.Jb(),u.Jb()}if(2&t){var r=u.Vb();u.xb(3),u.bc("ngModel",r.checkall),u.xb(3),u.bc("ngForOf",r.list_detail),u.xb(16),u.oc(u.Yb(23,3,r.total_real,"IDR","Rp."))}}function m(t,e){1&t&&(u.Kb(0,"ion-list",9),u.Kb(1,"ion-row",35),u.Ib(2,"img",36),u.Ib(3,"br"),u.Kb(4,"h5",37),u.Kb(5,"b",38),u.nc(6,"Belum Ada Data"),u.Jb(),u.Jb(),u.Jb(),u.Jb())}function v(t,e){if(1&t&&(u.Kb(0,"ion-badge",39),u.nc(1),u.Jb()),2&t){var n=u.Vb();u.xb(1),u.oc(n.total_keranjang)}}function _(t,e){1&t&&(u.Kb(0,"ion-badge",39),u.nc(1,"0"),u.Jb())}var x,w,y,K=((x=function(){function e(n,r,i,a,o,s,c,l,u,b,h){t(this,e),this.http=n,this.modalCtrl=r,this.router=i,this.navCtrl=a,this.servcart=o,this.loadingctrl=s,this.alertctrl=c,this.consta=l,this.changeref=u,this.userdata=b,this.util=h,this.list_detail=[],this.input_qty=[],this.harga_pro_real=[],this.sub_total_real=[],this.total_real=0,this.checkall=!1,this.data_user={}}return n(e,[{key:"ionViewWillEnter",value:function(){var t=this;console.log("view wenter"),this.checkall=!1,this.userdata.getUsername().then((function(e){console.log(e,"hasil"),null==e?t.router.navigateByUrl("login"):(t.data_user=e,t.get_data_keranjang(),t.get_total_keranjang())}))}},{key:"get_total_keranjang",value:function(){var t=this;this.servcart.get_keranjang(this.data_user.id_pel).then((function(e){var n;console.log(e,"keranjang"),n=e,t.total_keranjang=n.total_qty}))}},{key:"get_data_keranjang",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadingctrl.create({message:"Please wait..."});case 2:return this.loading=t.sent,t.next=5,this.loading.present();case 5:this.servcart.get_keranjang(this.data_user.id_pel).then((function(t){var n={};n=t,e.data_keranjang=n;var r=0;n.detail.forEach((function(t){n.detail[r].val=t.nama_pro,n.detail[r].isChecked=!1,r++})),e.list_detail=n.detail,console.log(e.list_detail,"list detail"),e.loading.dismiss(),e.total_real=n.total_real,console.log(e.changeref.detectChanges(),"change detect"),console.log(e.total_real,"DATA KERANJANG")})).catch((function(t){console.log(t),e.loading.dismiss(),e.consta.show_alert("Oops","","Terjadi kesalahan periksa koneksi anda, jika masih berlanjut silahkan hubungi tim support kami")})).finally((function(){e.loading.dismiss()}));case 6:case"end":return t.stop()}}),t,this)})))}},{key:"check_user",value:function(){}},{key:"set_var",value:function(t){console.log(t)}},{key:"ngOnInit",value:function(){}},{key:"pilih_item",value:function(t){console.log(t.target.value)}},{key:"calculate_total",value:function(){var t=this;this.total_real=0,this.list_detail.forEach((function(e){t.total_real+=e.sub_total_real})),console.log(this.total_real,"total real")}},{key:"add_minus",value:function(t){if(1==this.list_detail[t].qty_pro)return this.list_detail[t].sub_total_real=this.list_detail[t].qty_pro*this.list_detail[t].harga_pro_real,this.calculate_total(),!1;this.list_detail[t].qty_pro--,this.list_detail[t].sub_total_real=this.list_detail[t].qty_pro*this.list_detail[t].harga_pro_real,this.calculate_total()}},{key:"add_plus",value:function(t){this.list_detail[t].qty_pro++,this.list_detail[t].sub_total_real=this.list_detail[t].qty_pro*this.list_detail[t].harga_pro_real,this.calculate_total()}},{key:"hapus_keranjang",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=0,n=0,this.list_detail.forEach((function(t){1==r.list_detail[n].isChecked&&e++,n++})),0!=e){t.next=6;break}this.consta.show_alert("Error","","Mohon Pilih Produk Terlebih Dahulu"),t.next=11;break;case 6:return t.next=8,this.loadingctrl.create({message:"Please wait..."});case 8:this.loading=t.sent,this.loading.present(),this.servcart.hapus_keranjang(this.data_user.id_pel,this.list_detail).then((function(t){r.loading.dismiss(),r.util.showToast("Berhasil Menghapus Produk","success","bottom"),r.get_data_keranjang()})).catch((function(t){r.loading.dismiss(),r.consta.show_alert("Error","","Terjadi kesalahan periksa koneksi anda, jika masih berlanjut silahkan hubungi tim support kami")}));case 11:case"end":return t.stop()}}),t,this)})))}},{key:"check_all",value:function(){var t,e=this;console.log(this.checkall,"checkall"),t=0==this.checkall;var n=0;this.list_detail.forEach((function(r){e.list_detail[n].isChecked=t,n++}))}},{key:"update_keranjang",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadingctrl.create({message:"Please wait..."});case 2:this.loading=t.sent,this.loading.present(),this.servcart.update_keranjang(this.data_user.id_pel,this.list_detail).then((function(t){var n;console.log(t,"data"),e.loading.dismiss(),n=t,e.consta.show_alert("Success","",n.msg)})).catch((function(t){e.loading.dismiss(),e.consta.show_alert("Error","","Terjadi kesalahan periksa koneksi anda, jika masih berlanjut silahkan hubungi tim support kami")}));case 5:case"end":return t.stop()}}),t,this)})))}},{key:"ke_pengiriman",value:function(){var t=this,e=0,n=0;this.list_detail.forEach((function(r){1==t.list_detail[n].isChecked&&e++,n++})),0==e?this.consta.show_alert("Oops","","Mohon Pilih Produk Terlebih Dahulu"):this.router.navigateByUrl("checkout")}}]),e}()).\u0275fac=function(t){return new(t||x)(u.Hb(b.a),u.Hb(a.eb),u.Hb(o.f),u.Hb(a.fb),u.Hb(h.a),u.Hb(a.cb),u.Hb(a.b),u.Hb(d.c),u.Hb(u.h),u.Hb(g.a),u.Hb(p.a))},x.\u0275cmp=u.Bb({type:x,selectors:[["app-tab3"]],decls:14,vars:5,consts:[["slot","start",2,"color","#fff"],[2,"color","#fff"],[2,"--background","var(--ion-color-bg)",3,"fullscreen"],["style","background: var(--ion-color-bg);padding-top: 0px;",4,"ngIf"],["style","background: var(--ion-color-bg);",4,"ngIf"],["vertical","bottom","horizontal","center","slot","fixed","edge","",2,"bottom","9px","z-index","999"],["class","badge_icon","color","danger",4,"ngIf"],["src","assets/imgs/bag.png"],[2,"background","var(--ion-color-bg)","padding-top","0px"],[2,"background","var(--ion-color-bg)"],["lines","none",2,"--background","var(--ion-color-bg)"],["slot","start",2,"margin","0px","margin-right","10px",3,"ngModel","ngModelChange","click"],["lines","none","style","--background: var(--ion-color-bg);",4,"ngFor","ngForOf"],[2,"margin-top","30px","background","#fff","padding","5px 10px","box-shadow","0 2px 13px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12)","border-radius","15px","width","100%","margin-bottom","10px","margin-left","10px","margin-right","10px"],["size","6",2,"text-align","center"],[2,"color","#fff","height","30px","--background","#6b6b6b","width","100%","--border-radius","15px",3,"click"],["primary","",2,"color","#fff","height","30px","--background","#6b6b6b","width","100%","--border-radius","15px",3,"click"],["size","6"],[2,"color","#fff","height","42px","--background","var(--ion-color-primary)","width","100%","--border-radius","15px",3,"click"],["size","6",2,"text-align","right","margin","auto"],[2,"color","var(--ion-color-primary)"],[2,"padding","5px 5px","margin-top","0px","margin-bottom","0px"],[2,"margin-top","6px","background","#fff","padding","5px 10px","box-shadow","0 2px 13px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12)","border-radius","15px"],["size","3",2,"height","fit-content"],["alt","Foto",2,"border-radius","50px","width","60px","height","60px","object-fit","cover",3,"src"],["size","9",2,"height","fit-content"],[2,"font-weight","500","color","#5a5a5a","overflow","hidden","text-overflow","ellipsis","display","-webkit-box","-webkit-line-clamp","2","-webkit-box-orient","vertical"],["col-2","",2,"text-align","right"],["slot","end",3,"ngModel","ngModelChange","click"],[2,"width","100%"],[2,"background","#0000",3,"click"],["name","remove-circle","color","danger",2,"font-size","23px"],[2,"margin","0px","display","initial","top","-7px","position","relative"],["type","number","name","qty_pro","readonly","",2,"width","50px","border","1px solid #5a5a5a","height","25px","border-radius","20px","text-align","center",3,"ngModel","ngModelChange"],["name","add-circle","color","secondary",2,"font-size","23px"],[2,"padding","70px 55px 12px 55px","text-align","center","background","var(--ion-color-bg)"],["src","assets/imgs/newsnotfound.png","alt","Foto"],[2,"margin","auto","margin-bottom","20px"],[2,"color","#afafaf"],["color","danger",1,"badge_icon"]],template:function(t,e){1&t&&(u.Kb(0,"ion-header"),u.Kb(1,"ion-toolbar"),u.Kb(2,"ion-buttons",0),u.Ib(3,"ion-menu-button"),u.Jb(),u.Kb(4,"ion-title",1),u.nc(5,"Keranjang"),u.Jb(),u.Jb(),u.Jb(),u.Kb(6,"ion-content",2),u.mc(7,k,30,7,"ion-list",3),u.mc(8,m,7,0,"ion-list",4),u.Kb(9,"ion-fab",5),u.mc(10,v,2,1,"ion-badge",6),u.mc(11,_,2,0,"ion-badge",6),u.Kb(12,"ion-fab-button"),u.Ib(13,"img",7),u.Jb(),u.Jb(),u.Jb()),2&t&&(u.xb(6),u.bc("fullscreen",!0),u.xb(1),u.bc("ngIf",""!=e.list_detail),u.xb(1),u.bc("ngIf",""==e.list_detail),u.xb(2),u.bc("ngIf",e.total_keranjang>0),u.xb(1),u.bc("ngIf",0==e.total_keranjang))},directives:[a.u,a.ab,a.i,a.E,a.Z,a.p,s.l,a.r,a.s,a.B,a.z,a.n,a.c,c.e,c.h,a.A,s.k,a.J,a.o,a.h,a.v,c.i,c.a,a.g],pipes:[s.c],styles:[".btn_add_plus[_ngcontent-%COMP%]{width:30px;height:30px;--border-radius:50%;--background:#fff;color:#000}.button-solid[_ngcontent-%COMP%]{--border-radius:15px}ion-toolbar[_ngcontent-%COMP%]{background:var(--ion-color-primary)!important;--background:var(--ion-color-primary)!important}ion-badge[_ngcontent-%COMP%]{position:absolute;background:#f70b0b;border-radius:50%;opacity:.9;top:-9px;right:17px;width:20px;height:20px;font-size:10px;z-index:9}"]}),x),J=i("qtYk"),j=[{path:"",component:K}],C=((y=function e(){t(this,e)}).\u0275mod=u.Fb({type:y}),y.\u0275inj=u.Eb({factory:function(t){return new(t||y)},imports:[[o.h.forChild(j)],o.h]}),y),O=((w=function e(){t(this,e)}).\u0275mod=u.Fb({type:w}),w.\u0275inj=u.Eb({factory:function(t){return new(t||w)},imports:[[a.bb,s.b,c.b,J.a,o.h.forChild([{path:"",component:K}]),C]]}),w)}}])}();